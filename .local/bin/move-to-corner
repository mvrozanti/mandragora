#!/bin/bash
corner=$1

if [ -z "$(bspc query -N -n focused.floating)" ]; then
    bspc node focused -t floating
    win_id=$(bspc query -N -n .window.focused)
    eval $(xwininfo -id $win_id | sed -n -e "s/^+Width:+\([0-9]\+\).*/width=\1/p" -e "s/^+Height:+\([0-9]\+\).*/height=\1/p" )
    screen_resolution=$(xrandr | grep '*' | awk '{print $1}')
    screen_width=$(echo $screen_resolution | cut -d'x' -f1)
    screen_height=$(echo $screen_resolution | cut -d'x' -f2)
    x=$((screen_width - width))
    y=$((screen_height - height - 35))
    if [ $corner == 1 ]; then
        notify-send 0,$x,$y,$screen_width,$screen_height
        wmctrl -r $win_id -e 0,$x,$y,$screen_width,$screen_height
    else
        wmctrl -r $win_id -e 0,0,0,0,0,0
    fi
else
    bspc node focused -t tiled
fi
