#!/bin/sh
mime=$(file --mime-type -Lb -- "$f")
# notify-send "$f"
case "$mime" in
  image/*)
    printf '%s\n' "$fs" |
      setsid sxiv -n "$((i - 1))" - >/dev/null 2>&1 &
    ;;

  video/*|audio/*)
    setsid mpv -- "$f" >/dev/null 2>&1 &
    ;;

  application/pdf|application/epub+zip)
    setsid zathura -- "$f" >/dev/null 2>&1 &
    ;;

  text/*)
    exec ${VISUAL:-${EDITOR:-vi}} -- "$f"
    ;;

  application/zip|application/x-tar|application/x-7z-compressed|application/x-rar)
    atool --list -- "$f" | ${PAGER:-less}
    ;;

  *)
    setsid xdg-open -- "$f" >/dev/null 2>&1 &
    ;;
esac

